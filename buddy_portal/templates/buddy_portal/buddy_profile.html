{% extends 'buddy_portal/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-xl-10 col-xxl-8">
            <div class="buddy-card shadow-lg">
                <div class="row">
                    <div class="col-md-5 d-flex flex-column align-items-center">
                        <div class="image-container">
                        <img
                            src="{% if buddy_profile.profile_picture %}{{ buddy_profile.profile_picture.url }}{% else %}{% static 'profile_pics/default.png' %}{% endif %}"
                            alt="Profile Picture"
                            class="buddy-picture"
                        >
                        </div>
                        <h2 class="text-center mt-3">{{ buddy_profile.user.username }}'s Profile</h2>
                    </div>
                    <div class="col-md-7 profile-details">
                        <div class="detail-content">
                            <p><strong>About:</strong> <span class="about-text">{{ buddy_profile.about }}</span></p>
                            <p><strong>Fitness Goals:</strong> {{ buddy_profile.fitness_goals }}</p>
                            <p><strong>Workout Preferences:</strong> {{ buddy_profile.workout_preferences }}</p>
                            <p><strong>Availability:</strong> {{ buddy_profile.availability }}</p>
                            <p><strong>Milestones:</strong> {{ buddy_profile.milestones }}</p>
                            <p><strong>Preferred Locations:</strong> {{ buddy_profile.location }}</p>
                            {% if buddy_profile.show_phone and buddy_profile.contact_phone %}
                                <p><strong>Contact Phone:</strong> {{ buddy_profile.contact_phone }}</p>
                            {% endif %}
                            {% if buddy_profile.show_email and buddy_profile.contact_email %}
                                <p><strong>Contact Email:</strong> {{ buddy_profile.contact_email }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <a href="javascript:history.back()" class="btn btn-primary">Back</a>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* styles.css */
.buddy-card {
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 40px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    background-color: #fff;
    max-width: 900px;
    margin: 30px auto;
}
.image-container{
    width: 100%;
    display: flex;
    justify-content: center;
}

.about-text {
    word-wrap: break-word; /* For older browsers */
    overflow-wrap: break-word; /* Standard property */
}

.buddy-picture {
    width: auto;
    max-width: 400px;
    height: auto;
    max-height: 400px;
    border-radius: 8px;
    object-fit: cover;
    border: 4px solid #ddd;
    margin-bottom: 1.5rem;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

.profile-details {
    display: flex;
    align-items: flex-start;
}

.detail-content {
    width: 100%;
}

.profile-details p {
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.buddy-profile h2 {
    margin-top: 0;
    margin-bottom: 1.5rem;
    font-size: 2rem;
    color: #333;
    font-weight: 600;
}

/* Responsive adjustments */
@media (max-width: 992px) {
    .buddy-card {
        padding: 30px;
    }
    .profile-details {
        min-height: auto;
    }
    .buddy-picture {
        max-width: 300px;
    }
}

@media (max-width: 768px) {
    .buddy-card {
        padding: 20px;
    }
    .profile-details p {
        font-size: 1rem;
    }
    .buddy-picture{
        max-width: 250px;
    }
}
</style>
{% endblock %}